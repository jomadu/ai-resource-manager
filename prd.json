{
  "project": "AI Resource Manager",
  "branchName": "no-pterm",
  "description": "Complete rewrite of ARM CLI for v4 with simplified command structure and improved UX",
  "userStories": [
    {
      "id": "US-001",
      "title": "Core version and help commands",
      "description": "As a user, I want basic version and help commands so that I can verify installation and discover available commands.",
      "acceptanceCriteria": [
        "arm version displays version, build-id, build-timestamp, build-platform",
        "arm help displays main help with all commands",
        "arm help <command> displays command-specific help",
        "Typecheck passes",
        "Tests pass"
      ],
      "priority": 1,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-002",
      "title": "Add git registry command",
      "description": "As a user, I want to add git registries so that I can connect to GitHub/GitLab sources.",
      "acceptanceCriteria": [
        "arm add registry git accepts --url, --branches, --force, NAME",
        "Command validates required parameters",
        "Command updates config file correctly",
        "Typecheck passes",
        "Tests pass"
      ],
      "priority": 2,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-003",
      "title": "Add gitlab registry command",
      "description": "As a user, I want to add GitLab registries so that I can connect to GitLab Package Registry.",
      "acceptanceCriteria": [
        "arm add registry gitlab accepts --url, --group-id, --project-id, --api-version, --force, NAME",
        "Command validates required parameters",
        "Command updates config file correctly",
        "Typecheck passes",
        "Tests pass"
      ],
      "priority": 3,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-004",
      "title": "Add cloudsmith registry command",
      "description": "As a user, I want to add Cloudsmith registries so that I can connect to Cloudsmith repositories.",
      "acceptanceCriteria": [
        "arm add registry cloudsmith accepts --url, --owner, --repo, --force, NAME",
        "Command validates required parameters",
        "Command updates config file correctly",
        "Typecheck passes",
        "Tests pass"
      ],
      "priority": 4,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-005",
      "title": "Registry remove and set commands",
      "description": "As a user, I want to remove and configure registries so that I can manage registry connections.",
      "acceptanceCriteria": [
        "arm remove registry NAME removes registry from config",
        "arm set registry NAME KEY VALUE updates registry config",
        "Commands update config file correctly",
        "Typecheck passes",
        "Tests pass"
      ],
      "priority": 5,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-006",
      "title": "Registry list and info commands",
      "description": "As a user, I want to view registries so that I can see my configured sources.",
      "acceptanceCriteria": [
        "arm list registry shows simple list of registry names",
        "arm info registry [NAME]... shows detailed registry info",
        "Output is clean and readable",
        "Typecheck passes",
        "Tests pass"
      ],
      "priority": 6,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-007",
      "title": "Add sink command",
      "description": "As a user, I want to add sinks so that I can define output destinations.",
      "acceptanceCriteria": [
        "arm add sink accepts --tool, --force, NAME, PATH",
        "Tool flag accepts: cursor, copilot, amazonq, markdown",
        "Command updates config file correctly",
        "Typecheck passes",
        "Tests pass"
      ],
      "priority": 7,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-008",
      "title": "Sink remove and set commands",
      "description": "As a user, I want to remove and configure sinks so that I can manage output destinations.",
      "acceptanceCriteria": [
        "arm remove sink NAME removes sink from config",
        "arm set sink NAME KEY VALUE updates sink config (tool, directory)",
        "Commands update config file correctly",
        "Typecheck passes",
        "Tests pass"
      ],
      "priority": 8,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-009",
      "title": "Sink list and info commands",
      "description": "As a user, I want to view sinks so that I can see my configured destinations.",
      "acceptanceCriteria": [
        "arm list sink shows simple list of sink names",
        "arm info sink [NAME]... shows detailed sink info",
        "Output is clean and readable",
        "Typecheck passes",
        "Tests pass"
      ],
      "priority": 9,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-010",
      "title": "Install ruleset command",
      "description": "As a user, I want to install rulesets to sinks so that I can use AI rules.",
      "acceptanceCriteria": [
        "arm install ruleset accepts REGISTRY/RULESET[@VERSION] SINK...",
        "Accepts --priority flag (default: 100)",
        "Accepts --include and --exclude glob patterns",
        "Supports version constraints (@1, @1.1, @1.0.0)",
        "Uninstalls from previous sinks not in new sink list",
        "Typecheck passes",
        "Tests pass"
      ],
      "priority": 10,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-011",
      "title": "Install promptset command",
      "description": "As a user, I want to install promptsets to sinks so that I can use AI prompts.",
      "acceptanceCriteria": [
        "arm install promptset accepts REGISTRY/PROMPTSET[@VERSION] SINK...",
        "Accepts --include and --exclude glob patterns",
        "Supports version constraints (@1, @1.1, @1.0.0)",
        "Uninstalls from previous sinks not in new sink list",
        "Typecheck passes",
        "Tests pass"
      ],
      "priority": 11,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-012",
      "title": "Install all and uninstall commands",
      "description": "As a user, I want to install all dependencies and uninstall packages so that I can manage my dependency tree.",
      "acceptanceCriteria": [
        "arm install installs all configured dependencies",
        "arm uninstall removes all packages from sinks",
        "Commands preserve ARM configuration",
        "Typecheck passes",
        "Tests pass"
      ],
      "priority": 12,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-013",
      "title": "Update command",
      "description": "As a user, I want to update packages within constraints so that I can get compatible updates.",
      "acceptanceCriteria": [
        "arm update updates packages within version constraints",
        "Updates lock file with new versions",
        "Typecheck passes",
        "Tests pass"
      ],
      "priority": 13,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-014",
      "title": "Upgrade command",
      "description": "As a user, I want to upgrade to latest versions so that I can get all updates.",
      "acceptanceCriteria": [
        "arm upgrade upgrades to latest versions ignoring constraints",
        "arm upgrade updates version constraint to major constraint (^X.0.0)",
        "Updates manifest and lock files",
        "Typecheck passes",
        "Tests pass"
      ],
      "priority": 14,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-015",
      "title": "List and info commands",
      "description": "As a user, I want to view all configured entities so that I can understand my ARM environment.",
      "acceptanceCriteria": [
        "arm list shows registries, sinks, and dependencies grouped",
        "arm info shows detailed info for all entities",
        "Output is clean and readable",
        "Typecheck passes",
        "Tests pass"
      ],
      "priority": 15,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-016",
      "title": "Outdated check command",
      "description": "As a user, I want to check for outdated dependencies so that I can identify available updates.",
      "acceptanceCriteria": [
        "arm outdated shows packages with newer versions",
        "Displays constraint, current, wanted, and latest versions",
        "Accepts --output flag (table, json, list)",
        "Default output is table format",
        "Typecheck passes",
        "Tests pass"
      ],
      "priority": 16,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-017",
      "title": "Set ruleset command",
      "description": "As a user, I want to configure installed rulesets so that I can adjust their settings.",
      "acceptanceCriteria": [
        "arm set ruleset accepts REGISTRY/RULESET KEY VALUE",
        "Supports keys: version, priority, sinks, include, exclude",
        "Updates manifest file correctly",
        "Typecheck passes",
        "Tests pass"
      ],
      "priority": 17,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-018",
      "title": "Set promptset command",
      "description": "As a user, I want to configure installed promptsets so that I can adjust their settings.",
      "acceptanceCriteria": [
        "arm set promptset accepts REGISTRY/PROMPTSET KEY VALUE",
        "Supports keys: version, sinks, include, exclude",
        "Updates manifest file correctly",
        "Typecheck passes",
        "Tests pass"
      ],
      "priority": 18,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-019",
      "title": "Clean cache command",
      "description": "As a user, I want to clean cached data so that I can free up space.",
      "acceptanceCriteria": [
        "arm clean cache removes data older than 7 days (default)",
        "Accepts --max-age flag with duration (30m, 2h, 7d, 1h30m)",
        "Accepts --nuke flag for complete cleanup",
        "--nuke and --max-age are mutually exclusive",
        "Typecheck passes",
        "Tests pass"
      ],
      "priority": 19,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-020",
      "title": "Clean sinks command",
      "description": "As a user, I want to clean sink directories so that I can remove orphaned files.",
      "acceptanceCriteria": [
        "arm clean sinks removes files not in arm-index.json",
        "Accepts --nuke flag to remove entire ARM directory",
        "Typecheck passes",
        "Tests pass"
      ],
      "priority": 20,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-021",
      "title": "Compile command",
      "description": "As a user, I want to compile rulesets and promptsets so that I can test them before publishing.",
      "acceptanceCriteria": [
        "arm compile accepts INPUT_PATH(s) and optional OUTPUT_PATH",
        "Accepts --tool flag (markdown, cursor, amazonq, copilot)",
        "Accepts --namespace, --force, --recursive, --validate-only flags",
        "Accepts --include, --exclude glob patterns",
        "Accepts --fail-fast flag",
        "Supports files, directories, and mixed inputs",
        "--validate-only makes OUTPUT_PATH optional",
        "Typecheck passes",
        "Tests pass"
      ],
      "priority": 21,
      "passes": false,
      "notes": ""
    }
  ]
}
